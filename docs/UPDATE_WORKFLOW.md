# ðŸš€ ÐŸÑ€Ð¾Ñ†ÐµÑÑ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð° Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ

## ðŸ“‹ ÐžÐ³Ð»Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ

1. [Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ](#ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ð¹-Ð¿Ñ€Ð¾Ñ†ÐµÑÑ-Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ)
2. [ÐšÐ¾Ð³Ð´Ð° Ð½ÑƒÐ¶Ð½Ð° Ð¿ÐµÑ€ÐµÑÐ±Ð¾Ñ€ÐºÐ°](#ÐºÐ¾Ð³Ð´Ð°-Ð½ÑƒÐ¶Ð½Ð°-Ð¿ÐµÑ€ÐµÑÐ±Ð¾Ñ€ÐºÐ°)
3. [ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹](#Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ-ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹)
4. [ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· alias](#Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ-Ñ‡ÐµÑ€ÐµÐ·-alias)
5. [ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· ÑÐºÑ€Ð¸Ð¿Ñ‚](#Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ-Ñ‡ÐµÑ€ÐµÐ·-ÑÐºÑ€Ð¸Ð¿Ñ‚)
6. [ÐŸÐ¾Ð»ÐµÐ·Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹](#Ð¿Ð¾Ð»ÐµÐ·Ð½Ñ‹Ðµ-ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹)
7. [Troubleshooting](#troubleshooting)

---

## ðŸ“¦ Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ

### Ð‘Ð°Ð·Ð¾Ð²Ñ‹Ð¹ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ:

```bash
# 1. Ð—Ð°Ð¹Ñ‚Ð¸ Ð² Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸ÑŽ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð° Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ
cd ~/TaoBao_Scraper

# 2. ÐžÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€
sudo docker-compose down

# 3. ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ñ GitHub
git pull

# 4. ÐŸÐµÑ€ÐµÑÐ¾Ð±Ñ€Ð°Ñ‚ÑŒ Ð¸ Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ
sudo docker-compose up -d --build

# 5. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸
sudo docker-compose logs -f
```

---

## ðŸ’¾ Ð—Ð°Ñ‰Ð¸Ñ‚Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ñ€Ð¸ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ð¸

### âš ï¸ Ð’Ð°Ð¶Ð½Ð¾: Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°

ÐŸÑ€Ð¸ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð° Ð²Ð°Ð¶Ð½Ð¾ ÑÐ¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð±ÐµÐ»Ñ‹Ñ… Ð¸ Ñ‡Ñ‘Ñ€Ð½Ñ‹Ñ… ÑÐ¿Ð¸ÑÐºÐ¾Ð² Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹. Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ ÑÐ¾Ð·Ð´Ð°Ñ‘Ñ‚ Ñ€ÐµÐ·ÐµÑ€Ð²Ð½Ñ‹Ðµ ÐºÐ¾Ð¿Ð¸Ð¸, Ð½Ð¾ Ð´Ð»Ñ Ð¿Ð¾Ð»Ð½Ð¾Ð¹ Ð·Ð°Ñ‰Ð¸Ñ‚Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Docker volumes.

### ðŸ”’ Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÐ¼Ð°Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Docker (Ð·Ð°Ñ‰Ð¸Ñ‚Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…)

**1. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Docker volumes Ð´Ð»Ñ Ð¿Ð°Ð¿ÐºÐ¸ `data/`:**

Ð’ `docker-compose.yml` ÑƒÐ±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ Ð¿Ð°Ð¿ÐºÐ° `data/` ÑÐ¼Ð¾Ð½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð° ÐºÐ°Ðº volume:

```yaml
services:
  taobao-scraper-bot:
    volumes:
      - ./data:/app/data  # â† Ð­Ñ‚Ð¾ ÑÐ¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¿Ñ€Ð¸ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ð¸
      - ./.env:/app/.env
```

**2. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿ÐµÑ€ÐµÐ´ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸ÐµÐ¼:**

```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ, Ñ‡Ñ‚Ð¾ Ð´Ð°Ð½Ð½Ñ‹Ðµ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ñ‹
ls -la ~/TaoBao_Scraper/data/

# Ð”Ð¾Ð»Ð¶Ð½Ñ‹ Ð±Ñ‹Ñ‚ÑŒ Ñ„Ð°Ð¹Ð»Ñ‹:
# - access_control.json (Ð±ÐµÐ»Ñ‹Ðµ/Ñ‡Ñ‘Ñ€Ð½Ñ‹Ðµ ÑÐ¿Ð¸ÑÐºÐ¸)
# - access_control.backup.json (Ñ€ÐµÐ·ÐµÑ€Ð²Ð½Ð°Ñ ÐºÐ¾Ð¿Ð¸Ñ)
# - user_settings.json (Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹)
```

**3. Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ:**

```bash
# 1. ÐžÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€
sudo docker-compose down

# 2. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ðµ Ñ€ÐµÐ·ÐµÑ€Ð²Ð½Ñ‹Ñ… ÐºÐ¾Ð¿Ð¸Ð¹
ls -la data/access_control*.json

# 3. ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ÐºÐ¾Ð´
git pull

# 4. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ ÑÐ½Ð¾Ð²Ð° (Ð´Ð°Ð½Ð½Ñ‹Ðµ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑ‚ÑÑ Ð±Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ñ volume)
sudo docker-compose up -d --build
```

### ðŸ›¡ï¸ ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð·Ð°Ñ‰Ð¸Ñ‚Ð°

Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ ÑÐ¾Ð·Ð´Ð°Ñ‘Ñ‚ Ñ€ÐµÐ·ÐµÑ€Ð²Ð½Ñ‹Ðµ ÐºÐ¾Ð¿Ð¸Ð¸:

- **`data/access_control.json`** - Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ñ„Ð°Ð¹Ð» ÑÐ¾ ÑÐ¿Ð¸ÑÐºÐ°Ð¼Ð¸
- **`data/access_control.backup.json`** - Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ñ€ÐµÐ·ÐµÑ€Ð²Ð½Ð°Ñ ÐºÐ¾Ð¿Ð¸Ñ

ÐŸÑ€Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐµ, ÐµÑÐ»Ð¸ Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ñ„Ð°Ð¹Ð» Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, ÑÐ¸ÑÑ‚ÐµÐ¼Ð° Ð¿Ð¾Ð¿Ñ‹Ñ‚Ð°ÐµÑ‚ÑÑ Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð· Ñ€ÐµÐ·ÐµÑ€Ð²Ð½Ð¾Ð¹ ÐºÐ¾Ð¿Ð¸Ð¸.

### ðŸ“‹ Ð§Ñ‚Ð¾ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ÑÑ Ð² Ð¿Ð°Ð¿ÐºÐµ `data/`:

- âœ… **Ð‘ÐµÐ»Ñ‹Ðµ Ð¸ Ñ‡Ñ‘Ñ€Ð½Ñ‹Ðµ ÑÐ¿Ð¸ÑÐºÐ¸** (`access_control.json`)
- âœ… **ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹** (`user_settings.json`)
- âœ… **ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð°** (`admin_settings.json`)
- âœ… **Ð ÐµÐ·ÐµÑ€Ð²Ð½Ñ‹Ðµ ÐºÐ¾Ð¿Ð¸Ð¸** (`.backup.json` Ñ„Ð°Ð¹Ð»Ñ‹)

### âš ï¸ Ð•ÑÐ»Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¿Ð¾Ñ‚ÐµÑ€ÑÐ»Ð¸ÑÑŒ:

Ð•ÑÐ»Ð¸ Ð¿Ð¾ÑÐ»Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ ÑÐ¿Ð¸ÑÐºÐ¸ Ð¿Ñ€Ð¾Ð¿Ð°Ð»Ð¸:

```bash
# 1. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ€ÐµÐ·ÐµÑ€Ð²Ð½ÑƒÑŽ ÐºÐ¾Ð¿Ð¸ÑŽ
cat data/access_control.backup.json

# 2. Ð’Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¸Ð· Ñ€ÐµÐ·ÐµÑ€Ð²Ð½Ð¾Ð¹ ÐºÐ¾Ð¿Ð¸Ð¸
cp data/access_control.backup.json data/access_control.json

# 3. ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð±Ð¾Ñ‚Ð°
sudo docker-compose restart
```

### ðŸ’¡ Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸:

1. **Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ volumes** - ÑÑ‚Ð¾ ÑÐ°Ð¼Ñ‹Ð¹ Ð½Ð°Ð´Ñ‘Ð¶Ð½Ñ‹Ð¹ ÑÐ¿Ð¾ÑÐ¾Ð± Ð·Ð°Ñ‰Ð¸Ñ‚Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…
2. **Ð”ÐµÐ»Ð°Ð¹Ñ‚Ðµ Ð±ÑÐºÐ°Ð¿Ñ‹** Ð¿ÐµÑ€ÐµÐ´ ÐºÑ€ÑƒÐ¿Ð½Ñ‹Ð¼Ð¸ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸ÑÐ¼Ð¸:
   ```bash
   cp -r data/ data_backup_$(date +%Y%m%d)/
   ```
3. **ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐ¹Ñ‚Ðµ Ð»Ð¾Ð³Ð¸** Ð¿Ð¾ÑÐ»Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ:
   ```bash
   sudo docker-compose logs | grep -i "access_control\|backup"
   ```

---

## ðŸ”„ ÐšÐ¾Ð³Ð´Ð° Ð½ÑƒÐ¶Ð½Ð° Ð¿ÐµÑ€ÐµÑÐ±Ð¾Ñ€ÐºÐ°

### âœ… ÐžÐ‘Ð¯Ð—ÐÐ¢Ð•Ð›Ð¬ÐÐž Ð¿ÐµÑ€ÐµÑÐ¾Ð±Ð¸Ñ€Ð°Ñ‚ÑŒ (`--build`):

1. **Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð² `.py` Ñ„Ð°Ð¹Ð»Ð°Ñ…** (Ð²ÐµÑÑŒ ÐºÐ¾Ð´ Python)
   - `autoparse.py`
   - `bot_handler.py`
   - `scraper.py`
   - `error_handler.py`
   - `yandex_gpt.py`
   - Ð¸ Ñ‚.Ð´.

2. **Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð² `requirements.txt`**
   - Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð½Ð¾Ð²Ñ‹Ñ… Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐº
   - Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð²ÐµÑ€ÑÐ¸Ð¹ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹

3. **Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð² `Dockerfile`**
   - Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð±Ð°Ð·Ð¾Ð²Ð¾Ð³Ð¾ Ð¾Ð±Ñ€Ð°Ð·Ð°
   - Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐ¸ÑÑ‚ÐµÐ¼Ð½Ñ‹Ñ… Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹
   - Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹ ÑÐ±Ð¾Ñ€ÐºÐ¸

### ðŸ”„ ÐœÐžÐ–ÐÐž Ð‘Ð•Ð— ÐŸÐ•Ð Ð•Ð¡Ð‘ÐžÐ ÐšÐ˜ (Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº):

1. **Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð² `.env` Ñ„Ð°Ð¹Ð»Ðµ**
   ```bash
   sudo docker-compose down
   sudo docker-compose up -d
   ```

2. **Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð² `docker-compose.yml`** (Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸, Ð½Ðµ build)
   ```bash
   sudo docker-compose down
   sudo docker-compose up -d
   ```

---

## âš¡ ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹

### ðŸŽ¯ Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 1: Ð‘Ñ‹ÑÑ‚Ñ€Ð¾Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ ÐµÐ¶ÐµÐ´Ð½ÐµÐ²Ð½Ð¾Ð¹ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹)

```bash
cd ~/TaoBao_Scraper && \
git pull && \
sudo docker-compose up -d --build && \
sudo docker-compose logs -f --tail=50
```

**Ð§Ñ‚Ð¾ Ð´ÐµÐ»Ð°ÐµÑ‚:**
- `git pull` - Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ñ github
- `--build` - Ð¿ÐµÑ€ÐµÑÐ¾Ð±Ð¸Ñ€Ð°ÐµÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÐµÑÐ»Ð¸ ÐµÑÑ‚ÑŒ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ
- `--tail=50` - Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ 50 ÑÑ‚Ñ€Ð¾Ðº Ð»Ð¾Ð³Ð¾Ð²
- `-f` - ÑÐ»ÐµÐ´Ð¸Ñ‚ Ð·Ð° Ð»Ð¾Ð³Ð°Ð¼Ð¸ Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸

**Ð’Ñ€ÐµÐ¼Ñ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ:** ~10-30 ÑÐµÐºÑƒÐ½Ð´ (Ð·Ð°Ð²Ð¸ÑÐ¸Ñ‚ Ð¾Ñ‚ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹)

---

### ðŸŽ¯ Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 2: Ð¡ Ð¿Ð¾Ð»Ð½Ð¾Ð¹ Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ¾Ð¹ ÐºÑÑˆÐ° (ÐµÑÐ»Ð¸ Ñ‡Ñ‚Ð¾-Ñ‚Ð¾ Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚)

```bash
cd ~/TaoBao_Scraper && \
git pull && \
sudo docker-compose down && \
sudo docker-compose build --no-cache && \
sudo docker-compose up -d && \
sudo docker-compose logs -f
```

**ÐšÐ¾Ð³Ð´Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ:**
- Ñ‡Ñ‚Ð¾-Ñ‚Ð¾ ÑÐ»Ð¾Ð¼Ð°Ð»Ð¾ÑÑŒ Ð¿Ð¾ÑÐ»Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ
- Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð½Ðµ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÑÑŽÑ‚ÑÑ
- Ð¿Ð¾ÑÐ»Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ `requirements.txt`
- Ð¿Ð¾ÑÐ»Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð±Ð°Ð·Ð¾Ð²Ð¾Ð³Ð¾ Ð¾Ð±Ñ€Ð°Ð·Ð° Ð² `Dockerfile`

**Ð’Ñ€ÐµÐ¼Ñ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ:** ~2-5 Ð¼Ð¸Ð½ÑƒÑ‚ (Ð¿Ð¾Ð»Ð½Ð°Ñ Ð¿ÐµÑ€ÐµÑÐ±Ð¾Ñ€ÐºÐ°)

---

### ðŸŽ¯ Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 3: Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº (Ð´Ð»Ñ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹ Ð² .env)

```bash
cd ~/TaoBao_Scraper && \
sudo docker-compose restart && \
sudo docker-compose logs -f --tail=30
```

**ÐšÐ¾Ð³Ð´Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ:**
- Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»Ð¸ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ Ð² `.env`
- Ð½Ðµ Ð±Ñ‹Ð»Ð¾ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹ Ð² ÐºÐ¾Ð´Ðµ
- Ð½ÑƒÐ¶Ð½Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð±Ð¾Ñ‚Ð°

**Ð’Ñ€ÐµÐ¼Ñ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ:** ~5-10 ÑÐµÐºÑƒÐ½Ð´

---

## ðŸ”§ Docker Layer Caching

Docker Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ **ÐºÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÑÐ»Ð¾Ñ‘Ð²** Ð´Ð»Ñ ÑƒÑÐºÐ¾Ñ€ÐµÐ½Ð¸Ñ ÑÐ±Ð¾Ñ€ÐºÐ¸:

```dockerfile
# Dockerfile
COPY requirements.txt .         # â† Ð•ÑÐ»Ð¸ Ð½Ðµ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»ÑÑ, Ð±ÐµÑ€ÐµÑ‚ Ð¸Ð· ÐºÑÑˆÐ°
RUN pip install ...             # â† ÐšÑÑˆ! Ð‘Ñ‹ÑÑ‚Ñ€Ð¾! (~5 ÑÐµÐºÑƒÐ½Ð´)

COPY *.py ./                    # â† Ð•ÑÐ»Ð¸ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»ÑÑ - Ð¿ÐµÑ€ÐµÑÐ¾Ð±Ð¸Ñ€Ð°ÐµÑ‚ (~10 ÑÐµÐºÑƒÐ½Ð´)
```

**Ð­Ñ‚Ð¾ Ð·Ð½Ð°Ñ‡Ð¸Ñ‚:**
- âœ… Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»Ð¸ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ `.py` Ñ„Ð°Ð¹Ð»Ñ‹ â†’ Ð¿ÐµÑ€ÐµÑÐ±Ð¾Ñ€ÐºÐ° **Ð±Ñ‹ÑÑ‚Ñ€Ð°Ñ** (~10-15 ÑÐµÐºÑƒÐ½Ð´)
- âœ… Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»Ð¸ `requirements.txt` â†’ Ð¿ÐµÑ€ÐµÑÐ±Ð¾Ñ€ÐºÐ° **ÑÑ€ÐµÐ´Ð½ÑÑ** (~1-2 Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹)
- âœ… Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»Ð¸ `Dockerfile` â†’ Ð¿ÐµÑ€ÐµÑÐ±Ð¾Ñ€ÐºÐ° **Ð¿Ð¾Ð»Ð½Ð°Ñ** (~2-5 Ð¼Ð¸Ð½ÑƒÑ‚)

---

## ðŸ¤– ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· alias

### Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ alias Ð´Ð»Ñ Ð±Ñ‹ÑÑ‚Ñ€Ð¾Ð³Ð¾ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ:

```bash
# Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð² ~/.bashrc
echo 'alias update-bot="cd ~/TaoBao_Scraper && git pull && sudo docker-compose up -d --build && sudo docker-compose logs -f --tail=50"' >> ~/.bashrc

# ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ
source ~/.bashrc
```

### Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:

```bash
# Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¾Ð´Ð½Ð° ÐºÐ¾Ð¼Ð°Ð½Ð´Ð°:
update-bot
```

### Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿Ð¾Ð»ÐµÐ·Ð½Ñ‹Ðµ alias:

```bash
# Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð²ÑÐµ ÑÑ€Ð°Ð·Ñƒ
cat >> ~/.bashrc << 'EOF'

# TaoBao Scraper Bot aliases
alias update-bot="cd ~/TaoBao_Scraper && git pull && sudo docker-compose up -d --build && sudo docker-compose logs -f --tail=50"
alias bot-logs="cd ~/TaoBao_Scraper && sudo docker-compose logs -f --tail=100"
alias bot-status="cd ~/TaoBao_Scraper && sudo docker-compose ps"
alias bot-restart="cd ~/TaoBao_Scraper && sudo docker-compose restart && sudo docker-compose logs -f --tail=30"
alias bot-rebuild="cd ~/TaoBao_Scraper && git pull && sudo docker-compose down && sudo docker-compose build --no-cache && sudo docker-compose up -d"

EOF

# ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ
source ~/.bashrc
```

**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:**
- `update-bot` - Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¸ Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ
- `bot-logs` - Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð»Ð¾Ð³Ð¸
- `bot-status` - ÑÑ‚Ð°Ñ‚ÑƒÑ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°
- `bot-restart` - Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ
- `bot-rebuild` - Ð¿Ð¾Ð»Ð½Ð°Ñ Ð¿ÐµÑ€ÐµÑÐ±Ð¾Ñ€ÐºÐ°

---

## ðŸ“ ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· ÑÐºÑ€Ð¸Ð¿Ñ‚

### Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÑÐºÑ€Ð¸Ð¿Ñ‚Ð° Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ:

```bash
# Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ„Ð°Ð¹Ð»
nano ~/update-taobao.sh
```

**Ð’ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ:**

```bash
#!/bin/bash

# ==============================================================================
# TaoBao Scraper Bot - Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ
# ==============================================================================

set -e  # ÐžÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¸ Ð¾ÑˆÐ¸Ð±ÐºÐµ

# Ð¦Ð²ÐµÑ‚Ð° Ð´Ð»Ñ Ð²Ñ‹Ð²Ð¾Ð´Ð°
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

PROJECT_DIR="$HOME/TaoBao_Scraper"

echo -e "${BLUE}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${NC}"
echo -e "${BLUE}   ðŸ”„ ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ TaoBao Scraper Bot${NC}"
echo -e "${BLUE}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${NC}\n"

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÑƒÑ‰ÐµÑÑ‚Ð²Ð¾Ð²Ð°Ð½Ð¸Ñ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸
if [ ! -d "$PROJECT_DIR" ]; then
    echo -e "${RED}âŒ Ð”Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ñ $PROJECT_DIR Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð°!${NC}"
    exit 1
fi

cd "$PROJECT_DIR"

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹
echo -e "${YELLOW}ðŸ“¥ ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹ Ð½Ð° GitHub...${NC}"
git fetch origin

LOCAL=$(git rev-parse @)
REMOTE=$(git rev-parse @{u})

if [ "$LOCAL" = "$REMOTE" ]; then
    echo -e "${GREEN}âœ… ÐÐµÑ‚ Ð½Ð¾Ð²Ñ‹Ñ… Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹${NC}"
    read -p "ÐŸÐµÑ€ÐµÑÐ¾Ð±Ñ€Ð°Ñ‚ÑŒ Ð¸ Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð² Ð»ÑŽÐ±Ð¾Ð¼ ÑÐ»ÑƒÑ‡Ð°Ðµ? (y/n) " -n 1 -r
    echo
    if [[ ! $REPLY =~ ^[Yy]$ ]]; then
        echo -e "${BLUE}ÐžÑ‚Ð¼ÐµÐ½ÐµÐ½Ð¾${NC}"
        exit 0
    fi
else
    echo -e "${GREEN}âœ… ÐÐ°Ð¹Ð´ÐµÐ½Ñ‹ Ð½Ð¾Ð²Ñ‹Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ${NC}"
fi

# ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹
echo -e "\n${YELLOW}ðŸ“¥ ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹ Ñ GitHub...${NC}"
git pull

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹ Ð² requirements.txt Ð¸Ð»Ð¸ Dockerfile
FULL_REBUILD=false
if git diff HEAD@{1} --name-only | grep -q "requirements.txt\|Dockerfile"; then
    echo -e "${YELLOW}âš ï¸  ÐžÐ±Ð½Ð°Ñ€ÑƒÐ¶ÐµÐ½Ñ‹ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð² requirements.txt Ð¸Ð»Ð¸ Dockerfile${NC}"
    echo -e "${YELLOW}   Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð¿Ð¾Ð»Ð½Ð°Ñ Ð¿ÐµÑ€ÐµÑÐ±Ð¾Ñ€ÐºÐ°...${NC}"
    FULL_REBUILD=true
fi

# ÐžÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°
echo -e "\n${YELLOW}ðŸ›‘ ÐžÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°...${NC}"
sudo docker-compose down

# ÐŸÐµÑ€ÐµÑÐ±Ð¾Ñ€ÐºÐ°
if [ "$FULL_REBUILD" = true ]; then
    echo -e "\n${YELLOW}ðŸ”¨ ÐŸÐ¾Ð»Ð½Ð°Ñ Ð¿ÐµÑ€ÐµÑÐ±Ð¾Ñ€ÐºÐ° (--no-cache)...${NC}"
    sudo docker-compose build --no-cache
else
    echo -e "\n${YELLOW}ðŸ”¨ Ð‘Ñ‹ÑÑ‚Ñ€Ð°Ñ Ð¿ÐµÑ€ÐµÑÐ±Ð¾Ñ€ÐºÐ°...${NC}"
    sudo docker-compose build
fi

# Ð—Ð°Ð¿ÑƒÑÐº
echo -e "\n${YELLOW}ðŸš€ Ð—Ð°Ð¿ÑƒÑÐº ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°...${NC}"
sudo docker-compose up -d

# ÐžÐ¶Ð¸Ð´Ð°Ð½Ð¸Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ°
echo -e "\n${YELLOW}â³ ÐžÐ¶Ð¸Ð´Ð°Ð½Ð¸Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ° (5 ÑÐµÐºÑƒÐ½Ð´)...${NC}"
sleep 5

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÑ‚Ð°Ñ‚ÑƒÑÐ°
echo -e "\n${YELLOW}ðŸ“Š Ð¡Ñ‚Ð°Ñ‚ÑƒÑ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°:${NC}"
sudo docker-compose ps

# Ð›Ð¾Ð³Ð¸
echo -e "\n${GREEN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${NC}"
echo -e "${GREEN}   âœ… ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¾!${NC}"
echo -e "${GREEN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${NC}\n"
echo -e "${BLUE}ðŸ“‹ ÐŸÐ¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ Ð»Ð¾Ð³Ð¸ (Ctrl+C Ð´Ð»Ñ Ð²Ñ‹Ñ…Ð¾Ð´Ð°):${NC}\n"
sudo docker-compose logs -f --tail=50
```

**Ð¡Ð´ÐµÐ»Ð°Ñ‚ÑŒ Ð¸ÑÐ¿Ð¾Ð»Ð½ÑÐµÐ¼Ñ‹Ð¼:**

```bash
chmod +x ~/update-taobao.sh
```

**Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ:**

```bash
~/update-taobao.sh
```

**Ð§Ñ‚Ð¾ Ð´ÐµÐ»Ð°ÐµÑ‚ ÑÐºÑ€Ð¸Ð¿Ñ‚:**
- âœ… Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÐµÑ‚ Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹ Ð½Ð° GitHub
- âœ… ÑÐ¿Ñ€Ð°ÑˆÐ¸Ð²Ð°ÐµÑ‚ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ðµ ÐµÑÐ»Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹ Ð½ÐµÑ‚
- âœ… Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÑ‚ Ð½ÑƒÐ¶Ð½Ð° Ð»Ð¸ Ð¿Ð¾Ð»Ð½Ð°Ñ Ð¿ÐµÑ€ÐµÑÐ±Ð¾Ñ€ÐºÐ°
- âœ… Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ñ†Ð²ÐµÑ‚Ð½Ð¾Ð¹ Ð²Ñ‹Ð²Ð¾Ð´
- âœ… Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÐµÑ‚ ÑÑ‚Ð°Ñ‚ÑƒÑ Ð¿Ð¾ÑÐ»Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ°
- âœ… Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ð»Ð¾Ð³Ð¸

---

## ðŸ› ï¸ ÐŸÐ¾Ð»ÐµÐ·Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹

### Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¾Ð¼:

```bash
# ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°
sudo docker-compose ps

# ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð»Ð¾Ð³Ð¸ Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸
sudo docker-compose logs -f

# ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ N ÑÑ‚Ñ€Ð¾Ðº Ð»Ð¾Ð³Ð¾Ð²
sudo docker-compose logs --tail=100

# ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð»Ð¾Ð³Ð¸ Ð·Ð° Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ Ñ‡Ð°Ñ
sudo docker-compose logs --since=1h

# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð±ÐµÐ· Ð¿ÐµÑ€ÐµÑÐ±Ð¾Ñ€ÐºÐ¸
sudo docker-compose restart

# ÐžÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ
sudo docker-compose stop

# Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ (ÐµÑÐ»Ð¸ Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½)
sudo docker-compose start

# ÐžÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¸ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€
sudo docker-compose down

# Ð’Ð¾Ð¹Ñ‚Ð¸ Ð² ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ (Ð´Ð»Ñ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ¸)
sudo docker exec -it taobao-scraper-bot bash
```

### Ð Ð°Ð±Ð¾Ñ‚Ð° Ñ Git:

```bash
# ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ
git status

# ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð¸ÑÑ‚Ð¾Ñ€Ð¸ÑŽ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð¾Ð²
git log --oneline -10

# ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð² ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾Ð¼ Ñ„Ð°Ð¹Ð»Ðµ
git diff filename.py

# ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ
git checkout -- filename.py

# ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ñ GitHub
git pull

# ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ ÑƒÐ´Ð°Ð»Ñ‘Ð½Ð½Ñ‹Ðµ Ð²ÐµÑ‚ÐºÐ¸
git branch -r
```

### ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³:

```bash
# Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð² ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¾Ð¼
sudo docker stats taobao-scraper-bot

# Ð Ð°Ð·Ð¼ÐµÑ€ Ð¾Ð±Ñ€Ð°Ð·Ð°
sudo docker images | grep taobao

# Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ðµ
sudo docker inspect taobao-scraper-bot
```

---

## ðŸ”§ Troubleshooting

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: "Your local changes would be overwritten by merge"

**ÐŸÑ€Ð¸Ñ‡Ð¸Ð½Ð°:** ÐÐ° ÑÐµÑ€Ð²ÐµÑ€Ðµ ÐµÑÑ‚ÑŒ Ð½ÐµÐ·Ð°ÐºÐ¾Ð¼Ð¼Ð¸Ñ‡ÐµÐ½Ð½Ñ‹Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ 1** (ÑÐ¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ):
```bash
git stash
git pull
git stash pop
```

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ 2** (Ð¾Ñ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ):
```bash
git checkout -- .
git pull
```

---

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ Ð½Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ Ð¿Ð¾ÑÐ»Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:**
```bash
# ÐŸÐ¾Ð»Ð½Ð°Ñ Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ° Ð¸ Ð¿ÐµÑ€ÐµÑÐ±Ð¾Ñ€ÐºÐ°
sudo docker-compose down
sudo docker rm -f taobao-scraper-bot
sudo docker rmi -f $(sudo docker images | grep taobao | awk '{print $3}')
sudo docker-compose build --no-cache
sudo docker-compose up -d
sudo docker-compose logs -f
```

---

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð² ÐºÐ¾Ð´Ðµ Ð½Ðµ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÑÑŽÑ‚ÑÑ

**ÐŸÑ€Ð¸Ñ‡Ð¸Ð½Ð°:** Docker Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ ÐºÑÑˆ

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:**
```bash
sudo docker-compose build --no-cache
sudo docker-compose up -d --force-recreate
```

---

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: "Permission denied" Ð¿Ñ€Ð¸ Ñ€Ð°Ð±Ð¾Ñ‚Ðµ Ñ Docker

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Ð² Ð³Ñ€ÑƒÐ¿Ð¿Ñƒ docker
```bash
sudo usermod -aG docker $USER
```

Ð—Ð°Ñ‚ÐµÐ¼ Ð²Ñ‹Ð¹Ñ‚Ð¸ Ð¸ Ð·Ð°Ð¹Ñ‚Ð¸ Ð·Ð°Ð½Ð¾Ð²Ð¾ Ð² SSH.

---

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: ÐœÐ°Ð»Ð¾ Ð¼ÐµÑÑ‚Ð° Ð½Ð° Ð´Ð¸ÑÐºÐµ

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ Ð½ÐµÐ¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ðµ Ð¾Ð±Ñ€Ð°Ð·Ñ‹ Ð¸ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹
```bash
# ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¼ÐµÑÑ‚Ð°
sudo docker system df

# ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ Ð½ÐµÐ¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ðµ Ñ€ÐµÑÑƒÑ€ÑÑ‹ (Ð‘Ð•Ð—ÐžÐŸÐÐ¡ÐÐž Ð´Ð»Ñ Ð´Ñ€ÑƒÐ³Ð¸Ñ… ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¾Ð²)
sudo docker system prune -f

# Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð½ÐµÐ¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ðµ Ð¾Ð±Ñ€Ð°Ð·Ñ‹
sudo docker image prune -a -f

# Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð½ÐµÐ¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ðµ volumes (ÐžÐ¡Ð¢ÐžÐ ÐžÐ–ÐÐž!)
sudo docker volume prune -f
```

---

## ðŸ“Š Ð¢Ð¸Ð¿Ð¸Ñ‡Ð½Ñ‹Ðµ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¸

### Ð¡Ñ†ÐµÐ½Ð°Ñ€Ð¸Ð¹ 1: Ð˜ÑÐ¿Ñ€Ð°Ð²Ð¸Ð» Ð±Ð°Ð³ Ð² ÐºÐ¾Ð´Ðµ

```bash
# Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾: Ð·Ð°ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð¸Ð» Ð¸ Ð·Ð°Ð¿ÑƒÑˆÐ¸Ð» Ð² GitHub
git add .
git commit -m "Fix bug in scraper"
git push

# ÐÐ° ÑÐµÑ€Ð²ÐµÑ€Ðµ: Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ
cd ~/TaoBao_Scraper
git pull
sudo docker-compose up -d --build
sudo docker-compose logs -f --tail=30
```

**Ð’Ñ€ÐµÐ¼Ñ:** ~15-30 ÑÐµÐºÑƒÐ½Ð´

---

### Ð¡Ñ†ÐµÐ½Ð°Ñ€Ð¸Ð¹ 2: Ð”Ð¾Ð±Ð°Ð²Ð¸Ð» Ð½Ð¾Ð²ÑƒÑŽ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÑƒ Ð² requirements.txt

```bash
# Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾: Ð¾Ð±Ð½Ð¾Ð²Ð¸Ð» requirements.txt, Ð·Ð°ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð¸Ð»
git add requirements.txt
git commit -m "Add new dependency"
git push

# ÐÐ° ÑÐµÑ€Ð²ÐµÑ€Ðµ: Ð¿Ð¾Ð»Ð½Ð°Ñ Ð¿ÐµÑ€ÐµÑÐ±Ð¾Ñ€ÐºÐ°
cd ~/TaoBao_Scraper
git pull
sudo docker-compose down
sudo docker-compose build --no-cache
sudo docker-compose up -d
sudo docker-compose logs -f
```

**Ð’Ñ€ÐµÐ¼Ñ:** ~2-3 Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹

---

### Ð¡Ñ†ÐµÐ½Ð°Ñ€Ð¸Ð¹ 3: Ð˜Ð·Ð¼ÐµÐ½Ð¸Ð» Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ (.env)

```bash
# ÐÐ° ÑÐµÑ€Ð²ÐµÑ€Ðµ: Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ .env
cd ~/TaoBao_Scraper
nano .env  # Ð¸Ð»Ð¸ vim .env

# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ
sudo docker-compose restart
sudo docker-compose logs -f --tail=20
```

**Ð’Ñ€ÐµÐ¼Ñ:** ~10 ÑÐµÐºÑƒÐ½Ð´

---

### Ð¡Ñ†ÐµÐ½Ð°Ñ€Ð¸Ð¹ 4: Ð§Ñ‚Ð¾-Ñ‚Ð¾ ÑÐ»Ð¾Ð¼Ð°Ð»Ð¾ÑÑŒ, Ð½ÑƒÐ¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ°Ñ‚Ð¸Ñ‚ÑŒÑÑ

```bash
# ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð¸ÑÑ‚Ð¾Ñ€Ð¸ÑŽ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð¾Ð²
cd ~/TaoBao_Scraper
git log --oneline -10

# ÐžÑ‚ÐºÐ°Ñ‚Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰Ð¸Ð¹ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, abc1234)
git reset --hard abc1234

# ÐŸÐµÑ€ÐµÑÐ¾Ð±Ñ€Ð°Ñ‚ÑŒ
sudo docker-compose down
sudo docker-compose build --no-cache
sudo docker-compose up -d

# ÐŸÐ¾Ð·Ð¶Ðµ Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ð¾
git reset --hard origin/main
```

---

## âœ… Ð§ÐµÐº-Ð»Ð¸ÑÑ‚ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ

- [ ] Ð·Ð°Ð¹Ñ‚Ð¸ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€: `ssh user@server`
- [ ] Ð¿ÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð² Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸ÑŽ: `cd ~/TaoBao_Scraper`
- [ ] Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ: `git pull`
- [ ] Ð¿ÐµÑ€ÐµÑÐ¾Ð±Ñ€Ð°Ñ‚ÑŒ: `sudo docker-compose up -d --build`
- [ ] Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸: `sudo docker-compose logs -f --tail=50`
- [ ] Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ: `sudo docker-compose ps`
- [ ] Ð¿Ñ€Ð¾Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð±Ð¾Ñ‚Ð° Ð² Telegram
- [ ] ÑƒÐ±ÐµÐ´Ð¸Ñ‚ÑŒÑÑ Ñ‡Ñ‚Ð¾ Ð½ÐµÑ‚ Ð¾ÑˆÐ¸Ð±Ð¾Ðº Ð² Ð»Ð¾Ð³Ð°Ñ…

---

**Ð”Ð°Ñ‚Ð° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ:** 2025-10-24  
**Ð’ÐµÑ€ÑÐ¸Ñ:** 1.0  
**ÐÐ²Ñ‚Ð¾Ñ€:** TaoBao Scraper Team
