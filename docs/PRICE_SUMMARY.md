# üßÆ –°–≤–æ–¥–∫–∞ —Ü–µ–Ω –ø–æ SKU

## –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

- `PRICE_MODE=simple` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) ‚Äî —Å—Ç–∞—Ä—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π: –ø–µ—Ä–µ–≤–æ–¥–∏–º –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç —Ç–æ–≤–∞—Ä–∞, –±–µ—Ä—ë–º **—Ç–æ–ª—å–∫–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Ü–µ–Ω—É** –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç—Ä–æ–∫—É `üí∞ –¶–µ–Ω–∞: X + –¥–æ—Å—Ç–∞–≤–∫–∞`.
- `PRICE_MODE=advanced` ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π: –ø–µ—Ä–µ–≤–æ–¥–∏–º –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã, –≥—Ä—É–ø–ø–∏—Ä—É–µ–º —Ü–µ–Ω—ã –∏ –≤—ã–≤–æ–¥–∏–º —Å–ø–∏—Å–æ–∫ —Ü–µ–Ω–æ–≤—ã—Ö –ø–æ–∑–∏—Ü–∏–π.

–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ ‚Äî —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `.env`. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω.
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–µ–∂–∏–º –≤ –ª–∏—á–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±–æ—Ç–∞ (–∏–ª–∏ —á–µ—Ä–µ–∑ Mimi App) –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞.

## –ó–∞–¥–∞—á–∞ (–¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è)

- —Å–æ–±—Ä–∞—Ç—å **–≤—Å–µ —Ü–µ–Ω—ã –∏–∑ `skus`** (–ø–æ–ª–µ `sale_price`) –∏ –ø–æ–∫–∞–∑–∞—Ç—å –∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
- —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –≤–∞—Ä–∏–∞–Ω—Ç—ã: –¥–ª—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Ü–µ–Ω –ø—Ä–∏–≤–æ–¥–∏–º –æ–ø–∏—Å–∞–Ω–∏—è –∫ –æ–¥–Ω–æ–π –æ–±–æ–±—â—ë–Ω–Ω–æ–π —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–µ —á–µ—Ä–µ–∑ LLM.
- –µ—Å–ª–∏ —Ü–µ–Ω–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è, –≤—ã–≤–æ–¥ –æ—Å—Ç–∞—ë—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º ‚Äî –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ `üí∞ –¶–µ–Ω–∞: X ¬• + –¥–æ—Å—Ç–∞–≤–∫–∞`.

## –ê–ª–≥–æ—Ä–∏—Ç–º

1. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è SKU**
   - –±–µ—Ä—ë–º —Ç–æ–ª—å–∫–æ —ç–ª–µ–º–µ–Ω—Ç—ã, –≥–¥–µ:
     - –µ—Å—Ç—å `sale_price`;
     - `stock` > 0 (–µ—Å–ª–∏ –ø–æ–ª–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç);
     - –∑–Ω–∞—á–µ–Ω–∏–µ `sale_price` —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–≤–æ–¥–∏—Ç—Å—è –∫ `float`.

2. **–û—Ç–±–æ—Ä –∫–æ–º–±–∏–Ω–∞—Ü–∏–π `—Ü–µ–Ω–∞ + props_names`**
   - –±–µ—Ä—ë–º –∏—Å—Ö–æ–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É `props_names` (–Ω–∞–ø—Ä–∏–º–µ—Ä: `–¶–≤–µ—Ç: –ö—Ä–∞—Å–Ω—ã–π; –í–µ—Ä—Å–∏—è: –ó–∞–≤–æ–¥–Ω–æ–π`).
   - —Å–æ–∑–¥–∞—ë–º –∫–ª—é—á `(–æ–∫—Ä—É–≥–ª—ë–Ω–Ω–∞—è —Ü–µ–Ω–∞, —Ç–µ–∫—Å—Ç props_names)` –∏ **—Å—Ä–∞–∑—É —É–±–∏—Ä–∞–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã** –µ—â—ë –¥–æ –ø–µ—Ä–µ–≤–æ–¥–∞.
   - –µ—Å–ª–∏ —É SKU –Ω–µ—Ç `props_names`, –∏—Å–ø–æ–ª—å–∑—É–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–æ–≤–∞—Ä–∞ –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–∞.

3. **–ú–∞—Å—Å–æ–≤—ã–π –ø–µ—Ä–µ–≤–æ–¥ –ø–æ–∑–∏—Ü–∏–π —á–µ—Ä–µ–∑ LLM (–æ–¥–Ω–∏–º –∑–∞–ø—Ä–æ—Å–æ–º)**
   - —Ñ–æ—Ä–º–∏—Ä—É–µ–º —Å–ø–∏—Å–æ–∫ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ **(–ø–æ–∑–∏—Ü–∏—è + —Ü–µ–Ω–∞)**;
   - –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ LLM **–æ–¥–Ω–∏–º JSON** –∏ —Ç—Ä–µ–±—É–µ–º –æ—Ç–≤–µ—Ç —Å—Ç—Ä–æ–≥–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
     - `{"items":[{"id":0,"label":"–ø–µ—Ä–µ–≤–æ–¥","price":123.45}]}`
   - –∂—ë—Å—Ç–∫–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –º–æ–¥–µ–ª—å –≤–µ—Ä–Ω—É–ª–∞ **—Ä–æ–≤–Ω–æ —Å—Ç–æ–ª—å–∫–æ –∂–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤**, —Å–∫–æ–ª—å–∫–æ –±—ã–ª–æ –Ω–∞ –≤—Ö–æ–¥–µ (–ø–æ `id`).

4. **–õ–æ–∫–∞–ª—å–Ω–∞—è —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è (–±–µ–∑ LLM)**
   - –ø–æ—Å–ª–µ –ø–µ—Ä–µ–≤–æ–¥–∞ –≥—Ä—É–ø–ø–∏—Ä—É–µ–º –ø–æ–∑–∏—Ü–∏–∏ –ª–æ–∫–∞–ª—å–Ω–æ –ø–æ **(—Ç–∏–ø —Ç–æ–≤–∞—Ä–∞, —Ü–µ–Ω–∞)**;
   - –µ—Å–ª–∏ –≤ –≥—Ä—É–ø–ø–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ (–æ–±—ã—á–Ω–æ —Ä–∞–∑–º–µ—Ä—ã/—Ü–≤–µ—Ç–∞) ‚Äî –æ—Å—Ç–∞–≤–ª—è–µ–º –æ–¥–∏–Ω —Ç–∏–ø —Ç–æ–≤–∞—Ä–∞ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–º–µ—Ç–æ–∫;
   - —ç—Ç–æ —Å–¥–µ–ª–∞–Ω–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ, —á—Ç–æ–±—ã:
     - –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å (–±–µ–∑ ¬´–∫—Ä–∏–≤–æ–≥–æ JSON¬ª –∏ —Ä–µ—Ç—Ä–∞–µ–≤);
     - —É–±—Ä–∞—Ç—å –æ–≥—Ä–æ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏–∏ –∏ —Ä–µ–∑–∫–æ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –≤—Ö–æ–¥–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã.

5. **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω—ã**
   - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `"{value} ¬•"`, –≥–¥–µ `value` ‚Äî –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –±–µ–∑ –ª–∏—à–Ω–∏—Ö –Ω—É–ª–µ–π.
   - –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª —Ä—É–±–ª–∏ –∏ –ø–µ—Ä–µ–¥–∞–Ω –∫—É—Ä—Å ‚Üí —Å—á–∏—Ç–∞–µ–º `price * rate`, –æ–∫—Ä—É–≥–ª—è–µ–º –¥–æ 10 ‚ÇΩ –∏ –¥–æ–±–∞–≤–ª—è–µ–º —Å–∏–º–≤–æ–ª ‚ÇΩ.

6. **–í—ã–≤–æ–¥**
   - –µ—Å–ª–∏ —É–Ω–∏–∫–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –æ–¥–Ω–∞ ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ä—É—é —Å—Ç—Ä–æ–∫—É `üí∞ –¶–µ–Ω–∞: ...`.
   - –µ—Å–ª–∏ —Ü–µ–Ω –Ω–µ—Å–∫–æ–ª—å–∫–æ:
     ```
     üí∞ –¶–µ–Ω—ã:
     - —Å–≤–∏—Ç–µ—Ä (–Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞—Å—Ü–≤–µ—Ç–æ–∫) ‚Äî 118 ¬• + –¥–æ—Å—Ç–∞–≤–∫–∞
     - —Å–≤–∏—Ç–µ—Ä —Ä–æ–∑–æ–≤—ã–π ‚Äî 130 ¬• + –¥–æ—Å—Ç–∞–≤–∫–∞
     - —à–∞—Ä—Ñ –±–æ–ª—å—à–æ–π (–Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞—Å—Ü–≤–µ—Ç–æ–∫) ‚Äî 85 ¬• + –¥–æ—Å—Ç–∞–≤–∫–∞
     - —à–∞—Ä—Ñ –º–∞–ª—ã–π ‚Äî 55 ¬• + –¥–æ—Å—Ç–∞–≤–∫–∞
     ```

## –û—Ç–ª–∞–¥–∫–∞

–í `DEBUG_MODE=True` —É–¥–æ–±–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å:

- `[scraper] –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –∏–∑ skus: ...` ‚Äî –∫–∞–∫ –∏ —Ä–∞–Ω—å—à–µ.
- `other/boot_debug.log` ‚Äî –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤ LLM (–≤ debug), –ø–æ–ª–µ–∑–Ω–æ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ —Ü–µ–Ω.
- –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –≤—ã–≤–æ–¥ `print(await self._build_price_summary_lines(...))`, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –¥–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ –ø–æ—Å—Ç.

## –ü—Ä–∏–º–µ—Ä

–ò—Å—Ö–æ–¥–Ω—ã–µ SKU:

| props_names                       | sale_price | stock |
|----------------------------------|------------|-------|
| `–¢–∏–ø:–°–≤–∏—Ç–µ—Ä;–¶–≤–µ—Ç:–ö—Ä–∞—Å–Ω—ã–π`        | 1000       | 24    |
| `–¢–∏–ø:–°–≤–∏—Ç–µ—Ä;–¶–≤–µ—Ç:–°–∏–Ω–∏–π`          | 1000       | 18    |
| `–¢–∏–ø:–°–≤–∏—Ç–µ—Ä;–¶–≤–µ—Ç:–†–æ–∑–æ–≤—ã–π`        | 1100       | 6     |
| `–¢–∏–ø:–®–∞—Ä—Ñ;–†–∞–∑–º–µ—Ä:–ë–æ–ª—å—à–æ–π;–¶–≤–µ—Ç:–ö—Ä–∞—Å–Ω—ã–π` | 700 | 15    |
| `–¢–∏–ø:–®–∞—Ä—Ñ;–†–∞–∑–º–µ—Ä:–ë–æ–ª—å—à–æ–π;–¶–≤–µ—Ç:–°–∏–Ω–∏–π`   | 700 | 11    |
| `–¢–∏–ø:–®–∞—Ä—Ñ;–†–∞–∑–º–µ—Ä:–ú–∞–ª—ã–π`          | 500        | 40    |

–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –ø–æ—Å—Ç–µ:

```
üí∞ –¶–µ–Ω—ã:
- —Å–≤–∏—Ç–µ—Ä ‚Äî 1000 ¬• + –¥–æ—Å—Ç–∞–≤–∫–∞
- —Å–≤–∏—Ç–µ—Ä —Ä–æ–∑–æ–≤—ã–π ‚Äî 1100 ¬• + –¥–æ—Å—Ç–∞–≤–∫–∞
- —à–∞—Ä—Ñ –±–æ–ª—å—à–æ–π ‚Äî 700 ¬• + –¥–æ—Å—Ç–∞–≤–∫–∞
- —à–∞—Ä—Ñ –º–∞–ª—ã–π ‚Äî 500 ¬• + –¥–æ—Å—Ç–∞–≤–∫–∞
```

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã –∏ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏, –∞ —Ü–≤–µ—Ç–æ–≤—ã–µ/—Å–ª—É–∂–µ–±–Ω—ã–µ –º–µ—Ç–∫–∏ –Ω–µ –∑–∞—Å–æ—Ä—è—é—Ç –≤—ã–≤–æ–¥.
