# üîß DEBUG –∏ MOCK —Ä–µ–∂–∏–º—ã

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ **4 –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ä–µ–∂–∏–º–∞—Ö**, –∫–æ–º–±–∏–Ω–∏—Ä—É—è –¥–≤–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —Ñ–ª–∞–≥–∞:

- **`DEBUG_MODE`** - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
- **`MOCK_MODE`** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–æ–≤ –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω—ã—Ö API –∑–∞–ø—Ä–æ—Å–æ–≤

---

## üìä –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∂–∏–º–æ–≤

| –†–µ–∂–∏–º | DEBUG_MODE | MOCK_MODE | –ó–∞–ø—Ä–æ—Å—ã –∫ API | –õ–æ–≥–∏ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|-------|------------|-----------|---------------|------|---------------|
| **Production** | `False` | `False` | ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ | ‚ùå –ù–µ—Ç | –†–∞–±–æ—Ç–∞ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ |
| **Development** | `True` | `False` | ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ | ‚úÖ –î–∞ | **–û—Ç–ª–∞–¥–∫–∞ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏** |
| **Testing** | `False` | `True` | ‚ùå –§–∞–π–ª—ã | ‚ùå –ù–µ—Ç | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ API |
| **Mock Debug** | `True` | `True` | ‚ùå –§–∞–π–ª—ã | ‚úÖ –î–∞ | –û—Ç–ª–∞–¥–∫–∞ –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö |

---

## üéØ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫–æ–π —Ä–µ–∂–∏–º

### 1Ô∏è‚É£ Production (—Ä–∞–±–æ—á–∏–π —Ä–µ–∂–∏–º)

```env
DEBUG_MODE=False
MOCK_MODE=False
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ù–µ –Ω—É–∂–Ω—ã –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
- –†–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ TMAPI

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–±–æ—Ç–∞
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥
- ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

---

### 2Ô∏è‚É£ Development (–æ—Ç–ª–∞–¥–∫–∞ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏) ‚≠ê **–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø –î–õ–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ò**

```env
DEBUG_MODE=True
MOCK_MODE=False
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ù—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –æ—Ç API
- –û—Ç–ª–∞–¥–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ HTML

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ TMAPI
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–æ–≤ API
- ‚úÖ –í–∏–¥–Ω–æ –≥–¥–µ –∏–º–µ–Ω–Ω–æ –ª–æ–º–∞–µ—Ç—Å—è –∫–æ–¥

**–ü—Ä–∏–º–µ—Ä –ª–æ–≥–æ–≤:**

```
[Scraper] –ò–∑–≤–ª–µ—á–µ–Ω item_id: 751881208330
[Scraper] –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º item_desc –¥–ª—è item_id=751881208330
[TMAPI] GET http://api.tmapi.top/taobao/item_desc
[TMAPI] –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: item_id=751881208330
[TMAPI] –°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞: 200
[TMAPI] JSON –æ—Ç–≤–µ—Ç: code=200, msg=success
[TMAPI] –ö–ª—é—á–∏ –≤ data: ['detail_imgs', 'detail_html']
[Scraper] detail_html –¥–ª–∏–Ω–∞: 5432 —Å–∏–º–≤–æ–ª–æ–≤
[Scraper] detail_html –Ω–∞—á–∞–ª–æ: <img align="absmiddle" size="2480x3840"...
[Scraper] –†–∞—Å–ø–∞—Ä—Å–µ–Ω–æ 30 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏ –∏–∑ HTML
[Scraper] –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –±–∞–Ω–Ω–µ—Ä: 2480x184 (aspect: 13.48)
[Scraper] Detail –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: 30 ‚Üí 28 –ø–æ—Å–ª–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
[Scraper] –ò—Ç–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: 41 (sku: 13, detail: 28)
```

---

### 3Ô∏è‚É£ Testing (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ API)

```env
DEBUG_MODE=False
MOCK_MODE=True
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ù–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- –•–æ—Ç–∏—Ç–µ —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å API –∑–∞–ø—Ä–æ—Å—ã
- –¢–µ—Å—Ç–∏—Ä—É–µ—Ç–µ –ª–æ–≥–∏–∫—É –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ TMAPI —Ç–æ–∫–µ–Ω—É

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚ùå –ß–∏—Ç–∞–µ—Ç –∏–∑ `result.txt` –∏ `result55.txt`
- ‚ùå –ù–µ—Ç –ª–æ–≥–æ–≤
- ‚úÖ –ë—ã—Å—Ç—Ä–æ
- ‚úÖ –ù–µ —Ç—Ä–∞—Ç–∏—Ç API –ª–∏–º–∏—Ç—ã

---

### 4Ô∏è‚É£ Mock Debug (–æ—Ç–ª–∞–¥–∫–∞ –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö)

```env
DEBUG_MODE=True
MOCK_MODE=True
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ –Ω–∞ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–∫–∏ –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚ùå –ß–∏—Ç–∞–µ—Ç –∏–∑ —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏
- ‚úÖ –ù–µ —Ç—Ä–∞—Ç–∏—Ç API –ª–∏–º–∏—Ç—ã
- ‚ö†Ô∏è –ù–µ –ø–æ–∫–∞–∂–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å API

**–ü—Ä–∏–º–µ—Ä –ª–æ–≥–æ–≤:**

```
[TMAPI] üìÅ MOCK MODE - —á–∏—Ç–∞–µ–º –∏–∑ result.txt
[Scraper] –ò–∑–≤–ª–µ—á–µ–Ω item_id: 751881208330
[TMAPI] üìÅ MOCK MODE - —á–∏—Ç–∞–µ–º –∏–∑ result55.txt
[Scraper] detail_html –¥–ª–∏–Ω–∞: 5432 —Å–∏–º–≤–æ–ª–æ–≤
...
```

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ì–¥–µ –º–µ–Ω—è—Ç—å

–§–∞–π–ª: **`.env`**

```env
# –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã:
DEBUG_MODE=True   # –õ–æ–≥–∏
MOCK_MODE=False   # –†–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
```

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞!**

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ (Ctrl+C)
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ
python -m autoparse
```

---

## üìÅ –§–∞–π–ª—ã –¥–ª—è MOCK —Ä–µ–∂–∏–º–∞

–ö–æ–≥–¥–∞ `MOCK_MODE=True`, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:

| API –º–µ—Ç–æ–¥ | –§–∞–π–ª |
|-----------|------|
| `get_product_info()` | `result.txt` |
| `get_item_description()` | `result55.txt` |

### –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–æ–≤

**`result.txt`** - JSON —Å –¥–∞–Ω–Ω—ã–º–∏ —Ç–æ–≤–∞—Ä–∞:
```json
{
  "code": 200,
  "msg": "success",
  "data": {
    "item_id": 751881208330,
    "title": "...",
    "main_imgs": [...],
    "sku_props": [...],
    ...
  }
}
```

**`result55.txt`** - Python dict —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º:
```python
{
  'code': 200,
  'msg': 'success',
  'data': {
    'detail_imgs': [...],
    'detail_html': '<img align="absmiddle" size="2480x3840" src="..." />...'
  }
}
```

---

## üêõ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "–ü–æ–ª—É—á–∞—é —Ç–æ–ª—å–∫–æ 4 + 2 —Ñ–æ—Ç–æ"

**–†–µ—à–µ–Ω–∏–µ:**

1. **–í–∫–ª—é—á–∏—Ç–µ Development —Ä–µ–∂–∏–º:**
   ```env
   DEBUG_MODE=True
   MOCK_MODE=False
   ```

2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞**

3. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ —Ç–æ–≤–∞—Ä**

4. **–°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏:**
   - ‚úÖ `item_id` –Ω–∞–π–¥–µ–Ω?
   - ‚úÖ –ó–∞–ø—Ä–æ—Å –∫ `item_desc` —É—Å–ø–µ—à–µ–Ω?
   - ‚úÖ `detail_html` –Ω–µ –ø—É—Å—Ç–æ–π?
   - ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç?
   - ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–µ —Å–ª–∏—à–∫–æ–º –∂–µ—Å—Ç–∫–∞—è?

5. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –í–°–ï –ª–æ–≥–∏ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É**

---

## üí° –°–æ–≤–µ—Ç—ã

### ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

- **Development —Ä–µ–∂–∏–º** –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
- **Mock Debug —Ä–µ–∂–∏–º** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- **Production —Ä–µ–∂–∏–º** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

### ‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

- –û—Å—Ç–∞–≤–ª—è—Ç—å `DEBUG_MODE=True` –≤ production (–∑–∞—Å–æ—Ä—è–µ—Ç –ª–æ–≥–∏)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `MOCK_MODE=True` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º (—Å–∫—Ä–æ–µ—Ç –∏—Å—Ç–∏–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏)

---

## üìñ –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `DEBUG_INSTRUCTIONS.md` - –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ—Ç–ª–∞–¥–∫–µ
- `docs/DETAIL_IMAGES_FILTERING.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 23 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç–∏–≤–Ω–æ

