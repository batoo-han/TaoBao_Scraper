# ==============================================================================
# TAOBAO SCRAPER BOT - CONFIGURATION
# ==============================================================================
# Скопируйте этот файл в .env и заполните своими значениями
# cp .env.example .env
# ==============================================================================

# ==============================================================================
# TELEGRAM BOT
# ==============================================================================
# Получите токен у @BotFather в Telegram
BOT_TOKEN=your_telegram_bot_token_here

# ==============================================================================
# LLM ПРОВАЙДЕРЫ (для генерации описаний товаров)
# ==============================================================================
# Админ выбирает активного провайдера через AppSettings в БД
# Поддерживаются: yandex, openai, proxiapi

# YandexGPT
# Получите API ключ в Yandex Cloud Console
# https://yandex.cloud/ru/docs/iam/concepts/authorization/api-key
YANDEX_GPT_API_KEY=your_yandex_gpt_api_key_here
# ID каталога в Yandex Cloud
YANDEX_FOLDER_ID=your_yandex_folder_id_here
# Модель YandexGPT (yandexgpt-lite или yandexgpt)
YANDEX_GPT_MODEL=yandexgpt-lite

# OpenAI (опционально, если используется как провайдер)
# Получите API ключ на https://platform.openai.com
OPENAI_API_KEY=
# Модель OpenAI (например, gpt-4o-mini, gpt-4o, gpt-3.5-turbo)
OPENAI_MODEL=gpt-4o-mini

# ProxiAPI (опционально, если используется как провайдер)
# Получите API ключ на https://proxiapi.ru
PROXIAPI_API_KEY=
# Модель ProxiAPI (например, gpt-4o-mini)
PROXIAPI_MODEL=gpt-4o-mini

# ==============================================================================
# TMAPI (для парсинга Taobao/Tmall)
# ==============================================================================
# Получите токен на https://tmapi.top
TMAPI_TOKEN=your_tmapi_token_here

# ==============================================================================
# EXCHANGE RATE API (для конвертации валют, опционально)
# ==============================================================================
# Получите ключ на https://www.exchangerate-api.com
EXCHANGE_RATE_API_KEY=your_exchange_rate_api_key_here

# ==============================================================================
# PostgreSQL (для персонализации и админки)
# ==============================================================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=taobao_scraper
POSTGRES_USER=taobao
POSTGRES_PASSWORD=taobao_scraper
# Если нужен кастомный URL (например, с SSL/Cloud), укажите его. Иначе оставьте пустым.
DATABASE_URL=
POSTGRES_SSLMODE=prefer

# ==============================================================================
# ОПЦИИ
# ==============================================================================

# Дефолтные значения (используются до сохранения в БД)
DEFAULT_SIGNATURE=@annabbox
DEFAULT_CURRENCY=cny        # cny или rub
DEFAULT_LLM_VENDOR=yandex   # yandex | openai | proxiapi
LLM_CACHE_TTL_MINUTES=240

# ID чата администратора для уведомлений об ошибках (необязательно)
# Чтобы узнать свой chat_id:
# 1. Напишите боту @userinfobot команду /start
# 2. Скопируйте ваш ID
# 3. Вставьте сюда (например: ADMIN_CHAT_ID=123456789)
ADMIN_CHAT_ID=

# ==============================================================================
# РЕЖИМЫ РАБОТЫ
# ==============================================================================
# DEBUG_MODE - показывать подробные логи в консоли (True/False)
# MOCK_MODE - использовать данные из файлов вместо реальных API запросов (True/False)
#
# Рекомендуемые комбинации:
# Production:   DEBUG_MODE=False, MOCK_MODE=False (реальные запросы, без debug логов)
# Development:  DEBUG_MODE=True,  MOCK_MODE=False (реальные запросы + логи)
# Testing:      DEBUG_MODE=False, MOCK_MODE=True  (файлы, без логов)
# Mock Debug:   DEBUG_MODE=True,  MOCK_MODE=True  (файлы + логи)

DEBUG_MODE=False
MOCK_MODE=False

# Отключить проверку SSL (только если есть проблемы с сертификатами, НЕ рекомендуется!)
DISABLE_SSL_VERIFY=False

# ==============================================================================
# ADMIN PANEL (административная панель)
# ==============================================================================
# Секретный ключ для JWT токенов (ОБЯЗАТЕЛЬНО измените в продакшене!)
# Должен быть длинным и случайным (минимум 32 символа)
ADMIN_JWT_SECRET=change-this-secret-key-in-production
# Порт для админ-панели (по умолчанию 8004)
ADMIN_PANEL_PORT=8004

# ==============================================================================
# IMAGE & OCR ANALYTICS
# ==============================================================================
# Активация распознавания текста и таблиц на изображениях
ENABLE_IMAGE_TEXT_ANALYSIS=False
# Провайдер OCR (пока поддерживается только yandex)
IMAGE_TEXT_OCR_PROVIDER=yandex
# API ключ сервиса Yandex Vision
YANDEX_VISION_API_KEY=
# Отдельный ID каталога для Yandex Vision (если отличается от YANDEX_FOLDER_ID)
YANDEX_VISION_FOLDER_ID=
# Модель Yandex Vision: page (по умолчанию, одноколоночный текст), page-column-sort (многоколоночный), handwritten (рукописный), table (таблицы), markdown, math-markdown
YANDEX_VISION_MODEL=page
# Целевой язык перевода распознанного текста (ru или en)
IMAGE_TEXT_TRANSLATE_LANGUAGE=ru
# Каталог для сохранения визуализированных таблиц
IMAGE_TEXT_OUTPUT_DIR=data/image_analysis
# Пользовательский промпт для суммаризации текста с изображений (задаётся через админку)
IMAGE_TEXT_SUMMARY_PROMPT=
